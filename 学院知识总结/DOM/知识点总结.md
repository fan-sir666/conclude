# DOM 知识点总结

## webApi介绍

```text
WebAPI: 其他开发者(浏览器厂商 其他开发者)预先定义好的一组 操作网页的(DOM)和 操作浏览器的(BOM) 方法
```
## DOM

```text
DOM(document object model) 文档对象模型 主要的作用: 改变网页的内容 样式 结构

DOM树: 就是根据网页来进行抽象出来的一种树状结构
文档: document  一个页面就是一个文档
元素: element <标签>内容</标签> 任何一个标签都是一个元素
节点: node
      标签节点(一个标签就是一个节点 <p></p>)
      文本节点(标签里面的内容就是文本节点 <p>1111</p>这里的1111就是文本节点)
      属性节点(<p title="aaa"></p> title="aaa"这就是属性节点)
      注释
```
## 元素获取

```js
 console.log() // 大家看到的标签其实是一个对象 (对象是有方法和属性的)
 console.dir(oDiv); // 打印对象详细信息的

 ①document.getElementById('id名') // 返回值: 元素对象 参数: id名 兼容性: 没任何兼容性
 ②节点.getElementsByTagName('标签名') // 返回值: 元素对象集合(伪数组) 参数: 标签名 兼容性: 没任何兼容性
 // 注意: 节点可以是任何元素 也可以是document
 ③document.getElementsByClassName('类名'); // 返回值: 元素对象集合(伪数组) 参数: 类名名 兼容性: IE7 、8不兼容
 // 解决方法
function getElementsByClassName(node, className) {
    if (node.getElementsByClassName) {
        // 使用现有方法
        return node.getElementsByClassName(className);
    } else {
        // 循环遍历所有标签，返回带有相应类名的元素
        var results = [],
            elems = node.getElementsByTagName("*");
        for (var i = 0, len = elems.length; i < len; i++) {
            if (elems[i].className.indexOf(className) != -1) {
                results[results.length] = elems[i];
            }
        }
        return results;
    }
}
 ④document.querySelector('css选择器') // 返回值: 元素对象 参数: 符合css选择器的 (#id名  .class名  标签名) 兼容性: IE 8以下
// 注意点: 如果符合css选择器规则的元素有多个 只获取第一个
 ⑤document.querySelectorAll(); // 返回值: 元素对象集合(伪数组) 参数: 符合css选择器的 (#id名  .class名  标签名) 兼容性: IE 8以下

 // 解决方法
if (!document.querySelectorAll) {
    document.querySelectorAll = function (selectors) {
        var style = document.createElement('style'), elements = [], element;
        document.documentElement.firstChild.appendChild(style);
        document._qsa = [];

        style.styleSheet.cssText = selectors + '{x-qsa:expression(document._qsa && document._qsa.push(this))}';
        window.scrollBy(0, 0);
        style.parentNode.removeChild(style);

        while (document._qsa.length) {
            element = document._qsa.shift();
            element.style.removeAttribute('x-qsa');
            elements.push(element);
        }
        document._qsa = null;
        return elements;
    };
}

if (!document.querySelector) {
    document.querySelector = function (selectors) {
        var elements = document.querySelectorAll(selectors);
        return (elements.length) ? elements[0] : null;
    };
}

// 用于在IE6和IE7浏览器中，支持Element.querySelectorAll方法
var qsaWorker = (function () {
    var idAllocator = 10000;

    function qsaWorkerShim(element, selector) {
        var needsID = element.id === "";
        if (needsID) {
            ++idAllocator;
            element.id = "__qsa" + idAllocator;
        }
        try {
            return document.querySelectorAll("#" + element.id + " " + selector);
        }
        finally {
            if (needsID) {
                element.id = "";
            }
        }
    }

    function qsaWorkerWrap(element, selector) {
        return element.querySelectorAll(selector);
    }

    // Return the one this browser wants to use
    return document.createElement('div').querySelectorAll ? qsaWorkerWrap : qsaWorkerShim;
})();
```
<font color=#FFD700 size=6 face="STCAIYUN">特殊获取html 和 body</font>

```js
document.body // 获取body元素
document.documentElement // 获取html标签
```
## 事件基础

### 事件语法

```js
 事件三要素:
    1. 事件源: 事件发生在谁身上
    2. 事件类型: 浏览器给我们规定好的一些事件类型 click(点击) moseover(鼠标移入)
    3. 事件处理程序: 当事件在事件源发生的时候 要干啥

 事件的执行步骤:
    1.获取事件源
    2.绑定事件
    3.书写事件处理程序

    // 语法：
    let 元素 = 获取元素的方法
    元素.on+事件类型 = function (){
        // 让程序做啥 写在这里
    }
```
### 常见的事件类型

```js
// 鼠标事件
 ① onclick 鼠标点击左键触发 ondblclick 双击
 ② onmouseover 鼠标移入触发
 ③ onmouseout 鼠标移出触发
 ④ onmousemove 鼠标移动触发
 ⑤ onmouseup 鼠标弹起触发
 ⑥ onmousedown 鼠标按下触发
// 键盘事件
 ①keydown 按下
 ②keyup 抬起
 ③keypress 敲减
// 其他
 onblur 失去鼠标焦点触发
 onfocus 获得鼠标焦点触发
```
## 操作元素

### 操作元素内容

```js
    元素.innerHtml  // 可以解析标签
    元素.innerText
    // 清空元素内容
    元素.innerHTML = null 或 元素.innerText = null
```

### 操作元素的常见属性

```js
// 常见的元素属性
title ,id ,src ,alt ,href ,style
元素.属性名= '值' ;
元素.style.样式的名字 = 值; // 该样式为行内样式
```

### 操作元素的类名

```js
// 语法：元素.classList.方法名()
// 方法名 (add 添加; remove 移除 ; toggle 切换 ; contains 判断类名是否存在 ) 添加方式2:元素.className = '值'
```
### 操作表单的常用属性

```js
value属性: 语法: 元素.value = "值";
type属性:  语法: 元素.type = "值" (值必须是html规定的);
checked属性: 语法: 元素.checked = boolean true代表选中;
disabled属性: 语法: 元素.disabled = boolean true代表禁用;
selected属性:  语法: 元素.selected = boolean true代表选中;
```